# SOF


[2021-09-13.00]
Workarounds for cores produced by wrong settings of Dot-Ofsset (w_doto, b_doto)
outside of the current line.


Reproducing the error:

(1) Fill Paragraph (Esc-q)

(2) Undo (Ctrl+Shift+_)

This confuses the doto settings: Microemacs always assumes 0 <= doto <= l_used.

With -DJES_UNSEC_CODE the errors could be reproduced.

Furthermore fill-paragraph does not work correctly e.g. when used in som TeX-documents.


[2021-10-05.00]

Next steps to repair the (w|b)_doto-Problem:

(1) Introduce (get|set)_(b|w)_doto Makros and use the througout the code: Done.
(2) Test uemacs with this modification: Done.
(3) Fix wrong (w|b)_doto-Settings in the (get|set)_(b|w)_doto Macros and trace wrong settings: Done.
(4) Check that TRC in line.c isn't triggered any more: Done.
(5) Remove Fix and TRC in line.c: Done.
(6) Enable the other platforms: Done
(7) Introduce get/set-Logic and repair-code of the dot-code for the mark code as well: Might be unneccesary

(8) FIX THIS ERROR: `TRC (../src/undo.c/131): set_w_doto(): Too large doto: 156. REWRITTEN TO: 155.'
    - This seems to be an error in the fillpara function in word.c
    ---> Introduced the tr_para_fill() in random.c which seem to-be a unduable substitute.

(9) The "indent-region" function is also undoable: Must be repaired.

# EOF
